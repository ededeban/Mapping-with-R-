[["create-interactive-map.html", "Chapter 6 Create interactive map 6.1 Utility to interactive maps:", " Chapter 6 Create interactive map To learn about leaflet functions: (https://rstudio.github.io/leaflet/) 6.1 Utility to interactive maps: Create map with with leaflet() Add layers (markers, tiles, polygons) library(leaflet) leaflet() %&gt;% addTiles() Add the Snowy owl data # Other marker types, but circles are the simplest to use leaflet() %&gt;% addTiles() %&gt;% addCircleMarkers(data = Bubo_2011_2021, lng = Bubo_2011_2021$decimalLongitude, lat = Bubo_2011_2021$decimalLatitude) Add color palette by year year &lt;- colorNumeric(&quot;YlGnBu&quot;, domain = Bubo_2011_2021$year) year &lt;- colorFactor(topo.colors(16), domain = Bubo_2011_2021$year) leaflet() %&gt;% addTiles() %&gt;% addCircleMarkers(data = Bubo_2011_2021, lng = Bubo_2011_2021$decimalLongitude, lat = Bubo_2011_2021$decimalLatitude, fillColor = ~year(year), fillOpacity = 0.8, color = &quot;black&quot;, weight = 1, radius = 5) %&gt;% addLegend(data = Bubo_2011_2021, pal = year, values = ~year, title = &quot;Year&quot;) Add Scale bar # ---- Mapping: Add Scale Bar ---- leaflet() %&gt;% addTiles() %&gt;% addCircleMarkers(data = Bubo_2011_2021, lng = Bubo_2011_2021$decimalLongitude, lat = Bubo_2011_2021$decimalLatitude, fillColor = ~year(year), fillOpacity = 0.8, color = &quot;black&quot;, weight = 1, radius = 5) %&gt;% addLegend(data = Bubo_2011_2021, pal = year, values = ~year, title = &quot;Year&quot;) %&gt;% addScaleBar(position = &quot;bottomleft&quot;) # ---- Mapping: Add Popups ---- # Popups appear when you click on a point leaflet() %&gt;% addTiles() %&gt;% addCircleMarkers(data = Bubo_2011_2021, lng = Bubo_2011_2021$decimalLongitude, lat = Bubo_2011_2021$decimalLatitude, fillColor = ~year(year), fillOpacity = 0.8, color = &quot;black&quot;, weight = 1, radius = 5, popup = ~locality) %&gt;% addLegend(data = Bubo_2011_2021, pal = year, values = ~year, title = &quot;Year&quot;) %&gt;% addScaleBar(position = &quot;bottomleft&quot;) # ---- Mapping: Add Custom Popups ---- # Custom pop ups need to be written in html! # &lt;b&gt;Hello&lt;/b&gt; b is bold tex Hello, in bold text # &lt;br&gt; br adds a line break Bubo_2011_2021 &lt;- Bubo_2011_2021 %&gt;% mutate(mypopup = paste0(locality, &quot;&lt;br&gt;&quot;, &quot;&lt;b&gt;Individual count: &lt;/b&gt;&quot;, individualCount, &quot;&lt;br&gt;&quot;, &quot;&lt;b&gt;Event date: &lt;/b&gt;&quot;, eventDate, &quot;&lt;br&gt;&quot;)) head(Bubo) ## gbifID datasetKey ## 1: 3695055711 4fa7b334-ce0d-4e88-aaae-2e0c138d049e ## 2: 3692644854 4fa7b334-ce0d-4e88-aaae-2e0c138d049e ## 3: 3691715181 4fa7b334-ce0d-4e88-aaae-2e0c138d049e ## 4: 3690715254 4fa7b334-ce0d-4e88-aaae-2e0c138d049e ## 5: 3688430993 4fa7b334-ce0d-4e88-aaae-2e0c138d049e ## 6: 3688259022 4fa7b334-ce0d-4e88-aaae-2e0c138d049e ## occurrenceID kingdom phylum class order ## 1: URN:catalog:CLO:EBIRD:OBS1293342917 Animalia Chordata Aves Strigiformes ## 2: URN:catalog:CLO:EBIRD:OBS1287185931 Animalia Chordata Aves Strigiformes ## 3: URN:catalog:CLO:EBIRD:OBS1286172279 Animalia Chordata Aves Strigiformes ## 4: URN:catalog:CLO:EBIRD:OBS1280590004 Animalia Chordata Aves Strigiformes ## 5: URN:catalog:CLO:EBIRD_CAN:OBS1284885269 Animalia Chordata Aves Strigiformes ## 6: URN:catalog:CLO:EBIRD:OBS1281525543 Animalia Chordata Aves Strigiformes ## family genus species infraspecificEpithet taxonRank ## 1: Strigidae Bubo Bubo scandiacus NA SPECIES ## 2: Strigidae Bubo Bubo scandiacus NA SPECIES ## 3: Strigidae Bubo Bubo scandiacus NA SPECIES ## 4: Strigidae Bubo Bubo scandiacus NA SPECIES ## 5: Strigidae Bubo Bubo scandiacus NA SPECIES ## 6: Strigidae Bubo Bubo scandiacus NA SPECIES ## scientificName verbatimScientificName ## 1: Bubo scandiacus (Linnaeus, 1758) Bubo scandiacus ## 2: Bubo scandiacus (Linnaeus, 1758) Bubo scandiacus ## 3: Bubo scandiacus (Linnaeus, 1758) Bubo scandiacus ## 4: Bubo scandiacus (Linnaeus, 1758) Bubo scandiacus ## 5: Bubo scandiacus (Linnaeus, 1758) Bubo scandiacus ## 6: Bubo scandiacus (Linnaeus, 1758) Bubo scandiacus ## verbatimScientificNameAuthorship countryCode ## 1: NA CA ## 2: NA CA ## 3: NA CA ## 4: NA CA ## 5: NA CA ## 6: NA CA ## locality stateProvince ## 1: NL--Cape Spear Newfoundland and Labrador ## 2: St. John&#39;s--Upper Rennies River Newfoundland and Labrador ## 3: Auto selected 46.69182, -53.48570 Newfoundland and Labrador ## 4: NL--Cape Race Rd.--btw the Drook &amp; Long Beach Newfoundland and Labrador ## 5: NL--Cape Race Rd.--btw the Drook &amp; Long Beach Newfoundland and Labrador ## 6: NL--Cape Race Rd.--btw the Drook &amp; Long Beach Newfoundland and Labrador ## occurrenceStatus individualCount publishingOrgKey ## 1: PRESENT 1 e2e717bf-551a-4917-bdc9-4fa0f342c530 ## 2: PRESENT 1 e2e717bf-551a-4917-bdc9-4fa0f342c530 ## 3: PRESENT 1 e2e717bf-551a-4917-bdc9-4fa0f342c530 ## 4: PRESENT 3 e2e717bf-551a-4917-bdc9-4fa0f342c530 ## 5: PRESENT 1 e2e717bf-551a-4917-bdc9-4fa0f342c530 ## 6: PRESENT 4 e2e717bf-551a-4917-bdc9-4fa0f342c530 ## decimalLatitude decimalLongitude coordinateUncertaintyInMeters ## 1: 47.52160 -52.62468 NA ## 2: 47.58035 -52.72197 NA ## 3: 46.69182 -53.48569 NA ## 4: 46.65509 -53.22258 NA ## 5: 46.65509 -53.22258 NA ## 6: 46.65509 -53.22258 NA ## coordinatePrecision elevation elevationAccuracy depth depthAccuracy ## 1: NA NA NA NA NA ## 2: NA NA NA NA NA ## 3: NA NA NA NA NA ## 4: NA NA NA NA NA ## 5: NA NA NA NA NA ## 6: NA NA NA NA NA ## eventDate day month year taxonKey speciesKey basisOfRecord ## 1: 2021-12-11 11 12 2021 5959143 5959143 HUMAN_OBSERVATION ## 2: 2021-12-01 1 12 2021 5959143 5959143 HUMAN_OBSERVATION ## 3: 2021-11-29 29 11 2021 5959143 5959143 HUMAN_OBSERVATION ## 4: 2021-11-18 18 11 2021 5959143 5959143 HUMAN_OBSERVATION ## 5: 2021-11-27 27 11 2021 5959143 5959143 HUMAN_OBSERVATION ## 6: 2021-11-21 21 11 2021 5959143 5959143 HUMAN_OBSERVATION ## institutionCode collectionCode catalogNumber recordNumber identifiedBy ## 1: CLO EBIRD OBS1293342917 NA NA ## 2: CLO EBIRD OBS1287185931 NA NA ## 3: CLO EBIRD OBS1286172279 NA NA ## 4: CLO EBIRD OBS1280590004 NA NA ## 5: CLO EBIRD_CAN OBS1284885269 NA NA ## 6: CLO EBIRD OBS1281525543 NA NA ## dateIdentified license rightsHolder recordedBy typeStatus ## 1: NA CC_BY_4_0 NA obsr1228056 NA ## 2: NA CC_BY_4_0 NA obsr1060291 NA ## 3: NA CC_BY_4_0 NA obsr519649 NA ## 4: NA CC_BY_4_0 NA obsr608314 NA ## 5: NA CC_BY_4_0 NA obsr312347 NA ## 6: NA CC_BY_4_0 NA obsr231603 NA ## establishmentMeans lastInterpreted mediaType issue ## 1: NA 2022-03-03 19:19:46 NA ## 2: NA 2022-03-03 22:07:38 NA ## 3: NA 2022-03-03 22:12:37 NA ## 4: NA 2022-03-03 22:12:59 NA ## 5: NA 2022-03-03 21:19:13 NA ## 6: NA 2022-03-03 22:05:10 NA # Now specify the popup as the custom popup we just created leaflet() %&gt;% addTiles() %&gt;% addCircleMarkers(data = Bubo_2011_2021, lng = Bubo_2011_2021$decimalLongitude, lat = Bubo_2011_2021$decimalLatitude, fillColor = ~year(year), fillOpacity = 0.8, color = &quot;black&quot;, weight = 1, radius = 5, popup = ~mypopup) %&gt;% addLegend(data = Bubo_2011_2021, pal = year, values = ~year, title = &quot;Year&quot;) %&gt;% addScaleBar(position = &quot;bottomleft&quot;) #save it! # htmlwidgets::saveWidget(map, &quot;map.html&quot;, selfcontained = T) "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
